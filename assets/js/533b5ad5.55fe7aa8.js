"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[92011],{15680:(e,t,n)=>{n.d(t,{xA:()=>g,yg:()=>m});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},g=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),u=p(n),d=r,m=u["".concat(s,".").concat(d)]||u[d]||c[d]||l;return n?a.createElement(m,o(o({ref:t},g),{},{components:n})):a.createElement(m,o({ref:t},g))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[u]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},86225:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var a=n(58168),r=(n(96540),n(15680));const l={description:"Electron for reTerminal",title:"Electron for reTerminal",keywords:["Edge","reTerminal Application"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/reTerminal-build-UI-using-Electron",last_update:{date:"1/31/2023",author:"jianjing Huang"}},o=void 0,i={unversionedId:"Edge/Raspberry_Pi_Devices/reTerminal/Application/UI_design/reTerminal-build-UI-using-Electron",id:"Edge/Raspberry_Pi_Devices/reTerminal/Application/UI_design/reTerminal-build-UI-using-Electron",title:"Electron for reTerminal",description:"Electron for reTerminal",source:"@site/docs/Edge/Raspberry_Pi_Devices/reTerminal/Application/UI_design/reTerminal-build-UI-using-Electron.md",sourceDirName:"Edge/Raspberry_Pi_Devices/reTerminal/Application/UI_design",slug:"/reTerminal-build-UI-using-Electron",permalink:"/reTerminal-build-UI-using-Electron",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Edge/Raspberry_Pi_Devices/reTerminal/Application/UI_design/reTerminal-build-UI-using-Electron.md",tags:[],version:"current",lastUpdatedBy:"jianjing Huang",lastUpdatedAt:1675123200,formattedLastUpdatedAt:"Jan 31, 2023",frontMatter:{description:"Electron for reTerminal",title:"Electron for reTerminal",keywords:["Edge","reTerminal Application"],image:"https://files.seeedstudio.com/wiki/wiki-platform/S-tempor.png",slug:"/reTerminal-build-UI-using-Electron",last_update:{date:"1/31/2023",author:"jianjing Huang"}},sidebar:"ProductSidebar",previous:{title:"Flutter for reTerminal",permalink:"/reTerminal-build-UI-using-Flutter"},next:{title:"LVGL for reTerminal",permalink:"/reTerminal-build-UI-using-LVGL"}},s={},p=[{value:"Introduction",id:"introduction",level:2},{value:"Prepare Development Environment",id:"prepare-development-environment",level:2},{value:"On reTerminal",id:"on-reterminal",level:3},{value:"On Host PC",id:"on-host-pc",level:3},{value:"Smart Light Electron Application",id:"smart-light-electron-application",level:2},{value:"Hardware Connections",id:"hardware-connections",level:3},{value:"Create and Initialize the Application",id:"create-and-initialize-the-application",level:3},{value:"Install onoff npm Module",id:"install-onoff-npm-module",level:4},{value:"Install and Run electron-rebuild npm Module",id:"install-and-run-electron-rebuild-npm-module",level:4},{value:"Create the HTML (Basic UI)",id:"create-the-html-basic-ui",level:3},{value:"Create the CSS (Styling)",id:"create-the-css-styling",level:3},{value:"Create the Javascript (Load and Execute the App)",id:"create-the-javascript-load-and-execute-the-app",level:3},{value:"Test the App",id:"test-the-app",level:3},{value:"Prepare a Script to Run the App",id:"prepare-a-script-to-run-the-app",level:2},{value:"Prepare a Desktop File to Launch the App",id:"prepare-a-desktop-file-to-launch-the-app",level:2},{value:"Launch the App",id:"launch-the-app",level:3},{value:"Debug the App",id:"debug-the-app",level:2},{value:"FAQ",id:"faq",level:2},{value:"Q: How to set up automatic updates to the app as we save it?",id:"q-how-to-set-up-automatic-updates-to-the-app-as-we-save-it",level:3},{value:"Bonus Demo",id:"bonus-demo",level:2},{value:"Resources",id:"resources",level:2},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],g={toc:p},u="wrapper";function c(e){let{components:t,...n}=e;return(0,r.yg)(u,(0,a.A)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-17.png",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("h2",{id:"introduction"},"Introduction"),(0,r.yg)("p",null,"This wiki explains how to build your own user interface using Electron. Electron is an open-source framework for creating native desktop applications (Windows, Mac, Linux) with web technologies like HTML, CSS and JavaScript. This means if you can build a website, you can build a desktop app!"),(0,r.yg)("p",null,"By following the guide below, you will be able to create an application to control the GPIO pins on the reTerminal just by clicking buttons on the LCD. So let's get started!"),(0,r.yg)("h2",{id:"prepare-development-environment"},"Prepare Development Environment"),(0,r.yg)("h3",{id:"on-reterminal"},"On reTerminal"),(0,r.yg)("p",null,"First, we will install ",(0,r.yg)("strong",{parentName:"p"},"Node.js")," along with ",(0,r.yg)("strong",{parentName:"p"},"npm")," on the reTerminal. npm is a package manager for Node.js packages.  "),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 1.")," Access reTerminal using the ",(0,r.yg)("strong",{parentName:"p"},"onboard LCD, external display or SSH")," as explained ",(0,r.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/reTerminal/#log-in-to-raspberry-pi-os-ubuntu-os-or-other-os-using-ssh-over-wi-fi-ethernet"},"here"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 2.")," Upgrade the packages"))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"sudo apt update\nsudo apt full-upgrade \n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 3.")," Download the script to install Node.js")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 4.")," Install Node.js")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"sudo apt install -y nodejs\n")),(0,r.yg)("p",null,"Node.js is now installed on the reTerminal. To check whether the installation is sucessful, run the following commands to check the version of ",(0,r.yg)("strong",{parentName:"p"},"Node.js")," and ",(0,r.yg)("strong",{parentName:"p"},"npm")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"node -v\nnpm -v\n")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/node-2.png",alt:"pir",width:"300",height:"auto"})),(0,r.yg)("h3",{id:"on-host-pc"},"On Host PC"),(0,r.yg)("p",null,"Now, we will set up Microsoft Visual Studio Code for our development."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 1.")," Download and install ",(0,r.yg)("a",{parentName:"li",href:"https://code.visualstudio.com/"},"Microsoft Visual Studio Code"))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," Download the installer which is suitable for your operating system"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 2.")," Click on the ",(0,r.yg)("strong",{parentName:"li"},"Extensions")," tab on the left navigation menu and type ",(0,r.yg)("strong",{parentName:"li"},"remote development")," in the search box")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/remote-dev-extension.png",alt:"pir",width:"800",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 3.")," Select ",(0,r.yg)("strong",{parentName:"p"},"Remote Development")," and click ",(0,r.yg)("strong",{parentName:"p"},"Install"))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 4.")," Press ",(0,r.yg)("strong",{parentName:"p"},"F1")," on the keyboard, type ",(0,r.yg)("strong",{parentName:"p"},"ssh")," and select ",(0,r.yg)("strong",{parentName:"p"},"Remote-SSH:Connect to Host...")))),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/remote-ssh.png",alt:"pir",width:"800",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 5.")," Enter the following")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"pi@192.xxx.xx.xx\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," ",(0,r.yg)("strong",{parentName:"p"},"pi")," is the username and ",(0,r.yg)("strong",{parentName:"p"},"192.xxx.xx.xx")," is the IP address of the reTerminal"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 6.")," Enter the password for the user")),(0,r.yg)("p",null,"Now you have sucessfully logged in to reTerminal using SSH and have successfully finished preparing the development environment"),(0,r.yg)("h2",{id:"smart-light-electron-application"},"Smart Light Electron Application"),(0,r.yg)("p",null,"Now we will build a ",(0,r.yg)("strong",{parentName:"p"},"Smart Light Electron Appication")," that can be used to control the GPIO on the reTerminal by pressing buttons on the LCD. You can then connect relays to the GPIO and control home appliances as well!"),(0,r.yg)("h3",{id:"hardware-connections"},"Hardware Connections"),(0,r.yg)("p",null,"We will connect an ",(0,r.yg)("strong",{parentName:"p"},"LED")," to the ",(0,r.yg)("strong",{parentName:"p"},"GPIO 24")," of the reTerminal for testing purposes. Later you can add a relay and control home appliances using the GPIO!"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/flutter/LED-connection-1.png",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," A resistor is needed between the GPIO pin and the LED or otherwise the LED will burn out."),(0,r.yg)("h3",{id:"create-and-initialize-the-application"},"Create and Initialize the Application"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 1.")," Open VSCode on the Host PC and login to reTerminal via SSH as explained before")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 2.")," Navigate to ",(0,r.yg)("inlineCode",{parentName:"p"},"File > Open Folder..."),"  and select a folder of your choice on the reTerminal"))),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-1.png",alt:"pir",width:"600",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 3.")," Create a new folder and name it")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-2.png",alt:"pir",width:"550",height:"auto"})),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-3.png",alt:"pir",width:"550",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 4.")," Navigate to ",(0,r.yg)("inlineCode",{parentName:"li"},"Terminal > New Terminal")," and navigate to the newly created folder")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-4.png",alt:"pir",width:"550",height:"auto"})),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," Here we use ",(0,r.yg)("strong",{parentName:"p"},"cd")," to change directory"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 5.")," Type the following inside this terminal window to create a ",(0,r.yg)("strong",{parentName:"li"},"package.json")," file with the needed configurations for our Node.js app")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm init\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," Keep pressing ",(0,r.yg)("strong",{parentName:"p"},"ENTER")," to use the defaults for the answers, but set the ",(0,r.yg)("strong",{parentName:"p"},"entry point: (index.js)")," as ",(0,r.yg)("strong",{parentName:"p"},"main.js")," and ",(0,r.yg)("strong",{parentName:"p"},"test command:")," as ",(0,r.yg)("strong",{parentName:"p"},"electron ."),"(Use a space and a dot after ",(0,r.yg)("strong",{parentName:"p"},"electron"),")"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-5.png",alt:"pir",width:"550",height:"auto"})),(0,r.yg)("p",null,"If you want to change the configurations later, you can visit the ",(0,r.yg)("strong",{parentName:"p"},"package.json")," file inside our main app folder"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-6.png",alt:"pir",width:"650",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 6.")," On the terminal inside VSCode, type the following to install ",(0,r.yg)("strong",{parentName:"li"},"Electron"))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm install --save-dev electron\n")),(0,r.yg)("p",null,"You will see the following output if Electron is successfully installed"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-7.png",alt:"pir",width:"700",height:"auto"})),(0,r.yg)("p",null,"You will also see the ",(0,r.yg)("strong",{parentName:"p"},"node_modules")," folder generated with the required packages to run Electron"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-8.png",alt:"pir",width:"500",height:"auto"})),(0,r.yg)("h4",{id:"install-onoff-npm-module"},"Install onoff npm Module"),(0,r.yg)("p",null,"The onoff npm module allows you to access and control the GPIO on the reTerminal using the Electron app"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 1.")," Open a terminal window inside VSCode as explained before and navigate to our main app directory")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 2.")," Type the following to install the ",(0,r.yg)("strong",{parentName:"p"},"onoff")," npm module"))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm install onoff\n")),(0,r.yg)("h4",{id:"install-and-run-electron-rebuild-npm-module"},"Install and Run electron-rebuild npm Module"),(0,r.yg)("p",null,"The electron-rebuild npm module rebuilds native Node.js modules against the version of Node.js that your Electron project is using. This allows you to use native Node.js modules in Electron apps without your system version of Node.js matching exactly (which is often not the case, and sometimes not even possible)"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 1.")," Install ",(0,r.yg)("strong",{parentName:"li"},"electron-rebuild")," npm Module")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm install --save-dev electron-rebuild\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 2.")," Run electron-rebuild")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"./node_modules/.bin/electron-rebuild\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," Whenever you install a new npm package, rerun electron-rebuild"),(0,r.yg)("h3",{id:"create-the-html-basic-ui"},"Create the HTML (Basic UI)"),(0,r.yg)("p",null,"We will use the HTML file to create the basic user interface without any styling. This HTML file is responsible to display the UI elements on the screen."),(0,r.yg)("p",null,"Inside our main app directory, create a new file called ",(0,r.yg)("strong",{parentName:"p"},"index.html")," and copy the following codes"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-html"},'<!doctype html>\n<html>\n    <head>\n        \x3c!-- Specify the character encoding for the HTML document --\x3e\n        <meta charset="UTF-8">\n        \x3c!-- App title bar --\x3e\n        <title>Test Application</title>\n        \x3c!-- Load the material icons api --\x3e\n        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">\n        \x3c!-- Load the google fonts api --\x3e\n        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">\n        \x3c!-- Load style.css with UI styling --\x3e\n        <link rel="stylesheet" href="style.css">\n        \x3c!-- Embed  JavaScript code --\x3e\n        <script>\n            // Load ipcRenderer module\n            const { ipcRenderer } = require(\'electron\');\n            // Function to turn ON the GPIO on button press\n            function buttonclick1()\n            {\n                // This will send 1 as a message to the main process with "msg" as the channel name\n                ipcRenderer.send("msg1",1)\n            }\n            \n            // Function to turn OFF the GPIO on button press\n            function buttonclick2()\n            {\n                ipcRenderer.send("msg2",0)\n            }\n\n            // Function to close the app on button press\n            function buttonclick3()\n            {\n                ipcRenderer.send("close-me")\n            }\n        <\/script>\n    </head>\n    <body>\n        \x3c!-- Application close button --\x3e\n        <button class="button3" onclick="buttonclick3()">X</button>\n        <br>\n        \x3c!-- Application heading --\x3e\n        <h1>SMART LAMP</h1>\n        \x3c!-- Lightbulb icon from the material icons api --\x3e\n        <i class="material-icons">lightbulb</i>\n        <br>\n        \x3c!-- Empty lines --\x3e\n        <br>\n        \x3c!-- ON button with class attribute for styling \n        and onclick attribute for button click event --\x3e\n        <button class="button1" onclick="buttonclick1()">ON</button>\n        <br>\n        <button class="button2" onclick="buttonclick2()">OFF</button>\n    </body>\n</html>\n')),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," The ",(0,r.yg)("strong",{parentName:"p"},"ipcRenderer module")," is an EventEmitter. It provides a few methods so you can send messages from the render process (web page - html/css) to the main process (main.js). You can also receive replies from the main process."),(0,r.yg)("p",null,"Now we have finished creating the HTML file."),(0,r.yg)("p",null,"Run ",(0,r.yg)("strong",{parentName:"p"},"npm test")," to see the following output"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-15.png",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("h3",{id:"create-the-css-styling"},"Create the CSS (Styling)"),(0,r.yg)("p",null,"We will use the CSS file to add different styling to the user interface created using the HTML file"),(0,r.yg)("p",null,"Inside our main app directory, create a new file called ",(0,r.yg)("strong",{parentName:"p"},"style.css")," and copy the following codes"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-css"},'/* Styling for the body of the app */\nbody {\n    background-color: rgb(141, 141, 141);\n}\n\n/* Styling for heading of the app */\nh1 {\n    font-size: 60px;\n    text-align: center;\n    font-family: "Roboto", "Courier New", monospace;\n    color: rgb(255, 255, 255);\n}\n\n/* Styling for the light bulb */\n.material-icons{\n    font-size: 250px;\n    color: rgb(204, 202, 71);\n    display: flex;\n    justify-content: center;\n}\n\n/* Styling for the ON button */\n.button1 {\n    display: inline-block;\n    padding: 15px 25px;\n    font-size: 35px;\n    text-align: center;\n    outline: none;\n    color: rgb(255, 255, 255);\n    background-color:rgb(76, 175, 80);\n    border: none;\n    border-radius: 15px;\n    width: 20%;\n    margin:auto;\n    display:grid;\n  }\n\n/* Button press effect for ON button */\n.button1:active {\n  box-shadow: 0 5px rgb(104, 99, 99);\n  transform: translateY(4px);\n}\n\n/* Hover effect for ON button */\n.button1:hover {background-color: rgb(62, 142, 65)}\n\n/* Styling for OFF button */\n.button2 {\n    display: inline-block;\n    padding: 15px 25px;\n    font-size: 35px;\n    text-align: center;\n    outline: none;\n    color: rgb(255, 255, 255);\n    background-color:rgb(207, 85, 85);\n    border: none;\n    border-radius: 15px;\n    width: 20%;\n    margin:auto;\n    display:grid;\n}\n\n/* Button press effect for OFF button */\n.button2:active {\n  box-shadow: 0 5px rgb(104, 99, 99);\n  transform: translateY(4px);\n}\n  \n/* Hover effect for OFF button */  \n.button2:hover {background-color: rgb(179, 44, 44)}\n\n/* Styling for Close button */\n.button3 {\n  padding: 8px 25px;\n  font-size: 20px;\n  text-align: center;\n  outline: none;\n  color: rgb(255, 255, 255);\n  background-color:rgb(179, 44, 44);\n  border: none;\n  width: 6%;\n  margin:auto;\n  display:grid;\n  float: right;\n}\n')),(0,r.yg)("p",null,"The final output of the app will be as follows"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-16.png",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("h3",{id:"create-the-javascript-load-and-execute-the-app"},"Create the Javascript (Load and Execute the App)"),(0,r.yg)("p",null,"We will use the Javascript file to create the application window, display the load the HTML file, and add GPIO functionality."),(0,r.yg)("p",null,"Inside our main app directory, create a new file called ",(0,r.yg)("strong",{parentName:"p"},"main.js")," and copy the following codes"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"var Gpio = require('onoff').Gpio; //include onoff module to interact with the GPIO\nvar LED = new Gpio(24, 'out'); //initialize GPIO 24 as an output\n\n// Include app, BrowserWindow and ipcMain module\nconst { app, BrowserWindow, ipcMain } = require('electron')\n/* Use ipcMain module to receive the messages from the ipcRenderer module and \nturn ON the GPIO*/\nipcMain.on(\"msg1\",(event,data)=>{\n  LED.writeSync(data);\n})\n\n/* Use ipcMain module to receive the messages from the ipcRenderer module and \nturn OFF the GPIO */\nipcMain.on(\"msg2\",(event,data)=>{\n  LED.writeSync(data);\n})\n\n/* Use ipcMain module to receive the messages from the ipcRenderer module and \nclose the app */\nipcMain.on(\"close-me\", (event, arg) => {\n    app.quit()\n})\n\n// Create application window\napp.on('ready', function() {\n    var mainWindow = new BrowserWindow({\n        // Make the app fullscreen\n        \"fullscreen\": true,\n        webPreferences: {\n            // enable the communication between the main and rendered process\n            nodeIntegration: true,\n            contextIsolation: false\n          }\n    });\n    // Load the HTML page with CSS styling\n    mainWindow.loadFile('index.html');\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," The ",(0,r.yg)("strong",{parentName:"p"},"ipcMain")," provides a few methods so you can receive the messages sent fromt the renderer process (web page)."),(0,r.yg)("h3",{id:"test-the-app"},"Test the App"),(0,r.yg)("p",null,"You will see the output as soon as you save the previous file because we have turned on ",(0,r.yg)("strong",{parentName:"p"},"electron-rebuild"),". However if you have closed the app, you can open it again using ",(0,r.yg)("strong",{parentName:"p"},"npm test")," and see the following output"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-17.png",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("h2",{id:"prepare-a-script-to-run-the-app"},"Prepare a Script to Run the App"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 1.")," Open the Root folder that we created before and create a new ",(0,r.yg)("strong",{parentName:"li"},".sh file")," under that folder")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-18.png",alt:"pir",width:"350",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 2.")," Open the created file and enter the following")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"#!/bin/bash\ncd $HOME/Desktop/testapp\nDISPLAY=:0 npm test\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," Here ",(0,r.yg)("strong",{parentName:"p"},"$HOME/Desktop/testapp")," is the location of the electron project"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 3.")," Open a terminal window inside VSCode and navigate to the root directory of the app")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"example:\ncd ~/Desktop/testapp\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 4.")," Make the ledstart.sh an executable file")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"sudo chmod +x ledstart.sh\n")),(0,r.yg)("h2",{id:"prepare-a-desktop-file-to-launch-the-app"},"Prepare a Desktop File to Launch the App"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 1.")," Open the ",(0,r.yg)("strong",{parentName:"li"},"Desktop folder")," and create a new ",(0,r.yg)("strong",{parentName:"li"},".desktop file")," under that folder")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-20.png",alt:"pir",width:"340",height:"auto"})),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 2.")," Open the created file and enter the following")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"[Desktop Entry]\nEncoding=UTF-8\nName=LED Test\nComment=IconTest Link\nExec=/home/pi/Desktop/testapp/ledStart.sh\nType=Application\nCategories=Application;Development;\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," ",(0,r.yg)("strong",{parentName:"p"},"Exec")," is the location of the script that we created before"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 3.")," Open a terminal window inside VSCode and navigate to the Desktop")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"example:\ncd ~/Desktop\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 4.")," Make the ",(0,r.yg)("strong",{parentName:"li"},"ledStart.desktop")," an executable file")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"sudo chmod +x ledStart.desktop\n")),(0,r.yg)("h3",{id:"launch-the-app"},"Launch the App"),(0,r.yg)("p",null,"Double click on the ",(0,r.yg)("strong",{parentName:"p"},"LED Test")," file on the Desktop of reTerminal LCD"),(0,r.yg)("p",null,"You will see the output as follows"),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/vs-17.png",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("p",null,"Now you can click on the buttons and you will see the LED light up!"),(0,r.yg)("h2",{id:"debug-the-app"},"Debug the App"),(0,r.yg)("p",null,"Let's go through the process of debugging your app while developing"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 1.")," Log in to reTerminal via ",(0,r.yg)("strong",{parentName:"p"},"SSH")," using ",(0,r.yg)("strong",{parentName:"p"},"Microsoft Visual Studio Code")," as mentioned before")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("p",{parentName:"li"},(0,r.yg)("strong",{parentName:"p"},"Step 2.")," Log in to reTerminal via SSH using a SSH application such as ",(0,r.yg)("a",{parentName:"p",href:"https://mobaxterm.mobatek.net/"},"MobaXterm")," with ",(0,r.yg)("strong",{parentName:"p"},"X11 server feature")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Note:")," X11 is needed to forward the reTerminal display and pop up on the PC"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 3.")," After writing all the codes on Microsoft Visual Studio Code to the reTerminal, navigate to the main app directory and run the following")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm test\n")),(0,r.yg)("p",null,"Finally you will see the output displayed on a new window. If there are any errors in the code, they will be dislpayed in the MobaXterm terminal window."),(0,r.yg)("h2",{id:"faq"},"FAQ"),(0,r.yg)("h3",{id:"q-how-to-set-up-automatic-updates-to-the-app-as-we-save-it"},"Q: How to set up automatic updates to the app as we save it?"),(0,r.yg)("p",null,"For this you can set up the Hot Reload feature using electron-reloader npm module"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 1.")," Install ",(0,r.yg)("strong",{parentName:"li"},"electron-reloader"))),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-sh"},"npm install --save-dev electron-reloader\n")),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Step 2.")," Add the following line at the end of ",(0,r.yg)("strong",{parentName:"li"},"main.js")," file")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-javascript"},"try {\n  require('electron-reloader')(module)\n} catch (_) {}\n")),(0,r.yg)("p",null,"Now run the file once using ",(0,r.yg)("strong",{parentName:"p"},"npm test")," and the application will update as you save the files. You will not need to run ",(0,r.yg)("strong",{parentName:"p"},"npm test")," everytime you change the contents inside your project."),(0,r.yg)("h2",{id:"bonus-demo"},"Bonus Demo"),(0,r.yg)("p",null,"If you want to experience a more interesting demo with Electron, you can checkout ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/lakshanthad/Electron_reterminal_hardware"},"this GitHub repo")),(0,r.yg)("p",{style:{textAlign:"center"}},(0,r.yg)("img",{src:"https://files.seeedstudio.com/wiki/ReTerminal/electron/electron-reterminal-hw-demo.jpg",alt:"pir",width:"1000",height:"auto"})),(0,r.yg)("h2",{id:"resources"},"Resources"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"[GitHub]")," ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/lakshanthad/Electron_reTerminal_Smart_Lamp_UI"},"Electron_reTerminal_Smart_Lamp_UI")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"[Webpage]")," ",(0,r.yg)("a",{parentName:"li",href:"https://www.electronjs.org/docs/api"},"Electron Documentation"))),(0,r.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,r.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,r.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,r.yg)("div",{class:"button_tech_support_container"},(0,r.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,r.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}c.isMDXComponent=!0}}]);