"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[96037],{15680:(e,t,o)=>{o.d(t,{xA:()=>d,yg:()=>m});var a=o(96540);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var l=a.createContext({}),g=function(e){var t=a.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},d=function(e){var t=g(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var o=e.components,n=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=g(o),u=n,m=c["".concat(l,".").concat(u)]||c[u]||p[u]||r;return o?a.createElement(m,i(i({ref:t},d),{},{components:o})):a.createElement(m,i({ref:t},d))}));function m(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=o.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:n,i[1]=s;for(var g=2;g<r;g++)i[g]=o[g];return a.createElement.apply(null,i)}return a.createElement.apply(null,o)}u.displayName="MDXCreateElement"},44387:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>g});var a=o(58168),n=(o(96540),o(15680));const r={description:"Send message from Watcher & Node-RED to Telegram",title:"Watcher & Node-RED to Telegram",keywords:["watcher","Telegram"],image:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/telhead.png",slug:"/watcher_node_red_to_telegram",last_update:{date:"06/07/2024",author:"Allen"}},i="Watcher To Telegram Quick Start",s={unversionedId:"Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red_to_telegram",id:"Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red_to_telegram",title:"Watcher & Node-RED to Telegram",description:"Send message from Watcher & Node-RED to Telegram",source:"@site/docs/Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red_to_telegram.md",sourceDirName:"Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration",slug:"/watcher_node_red_to_telegram",permalink:"/watcher_node_red_to_telegram",draft:!1,editUrl:"https://github.com/Seeed-Studio/wiki-documents/blob/docusaurus-version/docs/Sensor/SenseCAP/SenseCAP_Watcher/Applications/node_red_integration/watcher_node_red_to_telegram.md",tags:[],version:"current",lastUpdatedBy:"Allen",lastUpdatedAt:1717718400,formattedLastUpdatedAt:"Jun 7, 2024",frontMatter:{description:"Send message from Watcher & Node-RED to Telegram",title:"Watcher & Node-RED to Telegram",keywords:["watcher","Telegram"],image:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/telhead.png",slug:"/watcher_node_red_to_telegram",last_update:{date:"06/07/2024",author:"Allen"}},sidebar:"ProductSidebar",previous:{title:"Watcher & Node-RED to P5JS",permalink:"/watcher_node_red_to_p5js"},next:{title:"Watcher & Node-RED to Twilio",permalink:"/watcher_node_red_to_twilio"}},l={},g=[{value:"What is Telegram",id:"what-is-telegram",level:2},{value:"How to access Telegram API",id:"how-to-access-telegram-api",level:2},{value:"Step 1. Get bot token",id:"step-1-get-bot-token",level:3},{value:"Step 2. Get bot chatId",id:"step-2-get-bot-chatid",level:3},{value:"Configure Telegram module in Node-RED",id:"configure-telegram-module-in-node-red",level:2},{value:"Step 3. Install Telegram module",id:"step-3-install-telegram-module",level:3},{value:"Step 4. Connect and configure modules",id:"step-4-connect-and-configure-modules",level:3},{value:"Send infomation to Telegram",id:"send-infomation-to-telegram",level:2},{value:"Step 5. Run a task in Watcher",id:"step-5-run-a-task-in-watcher",level:3},{value:"Step 6. Send message and photo to Telegram",id:"step-6-send-message-and-photo-to-telegram",level:3},{value:"Tech Support &amp; Product Discussion",id:"tech-support--product-discussion",level:2}],d={toc:g},c="wrapper";function p(e){let{components:t,...o}=e;return(0,n.yg)(c,(0,a.A)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("h1",{id:"watcher-to-telegram-quick-start"},"Watcher To Telegram Quick Start"),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("iframe",{width:"800",height:"500",src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/watcher_telegram.mp4?autoplay=0",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"}," ")),(0,n.yg)("h2",{id:"what-is-telegram"},"What is ",(0,n.yg)("a",{parentName:"h2",href:"https://telegram.org/"},"Telegram")),(0,n.yg)("p",null,"Telegram is a popular messaging app that offers a wide range of features for users and developers alike. With its open API and protocol, developers can create custom Telegram clients, bots, and integrate Telegram's services into their own applications. Telegram provides a secure and reliable platform for real-time communication, supporting various media types, group chats, and end-to-end encryption. Its cloud-based infrastructure ensures seamless synchronization across devices and allows for easy scalability. Developers can leverage Telegram's features and tools to build innovative solutions and enhance user experiences within their projects."),(0,n.yg)("h2",{id:"how-to-access-telegram-api"},"How to access Telegram API"),(0,n.yg)("h3",{id:"step-1-get-bot-token"},"Step 1. Get bot token"),(0,n.yg)("ol",null,(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"First you need to download a Telegram APP and get into ",(0,n.yg)("strong",{parentName:"p"},"BotFather")," page. Send ",(0,n.yg)("strong",{parentName:"p"},"/newbot")," and according to tips to ",(0,n.yg)("strong",{parentName:"p"},"name your bot"),".")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"After that, ",(0,n.yg)("strong",{parentName:"p"},"click the link")," in page 2 to jump to your bot(page 3) and then ",(0,n.yg)("strong",{parentName:"p"},"send something to you bot"),". Remenber to send something, otherwise you can't get your chatid.")),(0,n.yg)("li",{parentName:"ol"},(0,n.yg)("p",{parentName:"li"},"Another important thing is to ",(0,n.yg)("strong",{parentName:"p"},"save your token")," where I make masaic in page 2. We will use it later."))),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("table",{align:"center"},(0,n.yg)("tr",null,(0,n.yg)("th",null,"page 1"),(0,n.yg)("th",null,"page 2"),(0,n.yg)("th",null,"page 3")),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/10.png",style:{width:400,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/11.png",style:{width:400,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/12.png",style:{width:400,height:"auto"}})))))),(0,n.yg)("h3",{id:"step-2-get-bot-chatid"},"Step 2. Get bot chatId"),(0,n.yg)("p",null,"According to previous step, BotFather will give you some feedback when you created your bot. You will find ",(0,n.yg)("strong",{parentName:"p"},"Token")," in the feedback and the format would be like: ",(0,n.yg)("strong",{parentName:"p"},"123456789:AoUJnnpoFlkkdfJbCXlo....")," And then use your Token to access this link to get your ",(0,n.yg)("strong",{parentName:"p"},"ChatId"),"."),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-python"},"#access this link using your Token\nhttps://api.telegram.org/bot{Token}/getUpdates\n\n#example\nhttps://api.telegram.org/bot123456789:AoUJnnpoFlkkdfJbCXlo.../getUpdates\n")),(0,n.yg)("p",null,"You will find your ",(0,n.yg)("strong",{parentName:"p"},"ChatId")," following the image below. The ChatId would be like: ",(0,n.yg)("strong",{parentName:"p"},"7283028524"),". ",(0,n.yg)("strong",{parentName:"p"},"Save your Token and ChatId"),", we will use them later."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/1.png",style:{width:800,height:"auto"}})),(0,n.yg)("h2",{id:"configure-telegram-module-in-node-red"},"Configure Telegram module in Node-RED"),(0,n.yg)("h3",{id:"step-3-install-telegram-module"},"Step 3. Install Telegram module"),(0,n.yg)("p",null,"Following the image below to install Telegram module. If you haven't install Node-RED yet,",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/watcher_to_node_red/"},"please refer here"),"."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/2.png",style:{width:500,height:"auto"}})),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Search telegram")," and install the third one."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/3.png",style:{width:800,height:"auto"}})),(0,n.yg)("h3",{id:"step-4-connect-and-configure-modules"},"Step 4. Connect and configure modules"),(0,n.yg)("p",null,(0,n.yg)("strong",{parentName:"p"},"Drag")," those modules to workspace and connect them together. If you don't know how to configure ",(0,n.yg)("strong",{parentName:"p"},"OpenStream"),", you can still ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/watcher_to_node_red/"},"refer this link"),"."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/4.png",style:{width:1e3,height:"auto"}})),(0,n.yg)("p",null,"Now we are going to configure ",(0,n.yg)("strong",{parentName:"p"},"function")," module. Double click it and paste the following code into it."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/5.png",style:{width:1e3,height:"auto"}})),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-javascript"},'msg.image_url = msg.payload.value[0].image_url;\nmsg.content = msg.payload.value[0].content;\nmsg.chatId = "7098248409";  // change to your Telegram Chat ID\n\n// set payload to send photo\nvar photoPayload = {\n    chatId: msg.chatId,\n    type: "photo",\n    content: msg.image_url\n};\n\n// set payload to send message\nvar messagePayload = {\n    chatId: msg.chatId,\n    type: "message",\n    content: msg.content\n};\n\n// send photo\nnode.send({ payload: photoPayload });\n\n// send message\nnode.send({ payload: messagePayload });\n')),(0,n.yg)("p",null,"After that, next we are going to configure ",(0,n.yg)("strong",{parentName:"p"},"sender")," module, following the below image."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/6.png",style:{width:800,height:"auto"}})),(0,n.yg)("p",null,"Paste you ",(0,n.yg)("strong",{parentName:"p"},"bot name, Token, ChatId")," here."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/7.png",style:{width:800,height:"auto"}})),(0,n.yg)("p",null,"Another ",(0,n.yg)("strong",{parentName:"p"},"sender"),"'s configuration is similar, just following the below image."),(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/14.png",style:{width:800,height:"auto"}})),(0,n.yg)("h2",{id:"send-infomation-to-telegram"},"Send infomation to Telegram"),(0,n.yg)("h3",{id:"step-5-run-a-task-in-watcher"},"Step 5. Run a task in Watcher"),(0,n.yg)("p",null,"If you don't know how to run a task in Watcher, ",(0,n.yg)("a",{parentName:"p",href:"https://wiki.seeedstudio.com/getting_started_with_watcher_task"},"please refer here.")," Here provide very detailed steps for your reference."),(0,n.yg)("h3",{id:"step-6-send-message-and-photo-to-telegram"},"Step 6. Send message and photo to Telegram"),(0,n.yg)("p",null,"When the task is triggered, you will receive message from your Watcher. Both Node-RED and Telegram App."),(0,n.yg)("div",{class:"table-center"},(0,n.yg)("table",{align:"center"},(0,n.yg)("tr",null,(0,n.yg)("th",null,"Node-RED"),(0,n.yg)("th",null,"Telegram")),(0,n.yg)("tr",null,(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/8.png",style:{width:1e3,height:"auto"}}))),(0,n.yg)("td",null,(0,n.yg)("div",{style:{textAlign:"center"}},(0,n.yg)("img",{src:"https://files.seeedstudio.com/wiki/watcher_to_telegram_image/13.png",style:{width:250,height:"auto"}})))))),(0,n.yg)("p",null,"Congratulations on successfully connecting Watcher to Telegram! You've unlocked a world of exciting possibilities for your development journey. Get ready to explore and create innovative applications that leverage Telegram's powerful features. The future is bright, and we can't wait to see what you'll build next!"),(0,n.yg)("h2",{id:"tech-support--product-discussion"},"Tech Support & Product Discussion"),(0,n.yg)("p",null,"Thank you for choosing our products! We are here to provide you with different support to ensure that your experience with our products is as smooth as possible. We offer several communication channels to cater to different preferences and needs."),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://forum.seeedstudio.com/",class:"button_forum"}),(0,n.yg)("a",{href:"https://www.seeedstudio.com/contacts",class:"button_email"})),(0,n.yg)("div",{class:"button_tech_support_container"},(0,n.yg)("a",{href:"https://discord.gg/eWkprNDMU7",class:"button_discord"}),(0,n.yg)("a",{href:"https://github.com/Seeed-Studio/wiki-documents/discussions/69",class:"button_discussion"})))}p.isMDXComponent=!0}}]);